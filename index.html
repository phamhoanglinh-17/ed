<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ED Pronunciation Quiz</title>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        .question { margin-bottom: 15px; }
        .wrong { color: red; font-weight: bold; }
        .correct { color: green; font-weight: bold; }
        #result { margin-top: 20px; font-size: 18px; }
    </style>
</head>
<body>

    <h2>ED Pronunciation Quiz</h2>
    <form id="quizForm">
        <div id="questions"></div>
        <button type="button" onclick="submitQuiz()">N·ªôp b√†i</button>
    </form>

    <div id="result"></div>

    <script>
        const questions = [
            { question: "1. Asked - Helped - Played - Watched", correct: "Played" },
            { question: "2. Worked - Needed - Wanted - Painted", correct: "Worked" },
            { question: "3. Laughed - Closed - Stopped - Hoped", correct: "Closed" },
            { question: "4. Kissed - Pulled - Looked - Washed", correct: "Pulled" },
            { question: "5. Opened - Passed - Picked - Pushed", correct: "Opened" },
            { question: "6. Jumped - Smiled - Lived - Answered", correct: "Jumped" },
            { question: "7. Fixed - Repeated - Invited - Decided", correct: "Fixed" },
            { question: "8. Destroyed - Played - Moved - Laughed", correct: "Laughed" },
            { question: "9. Finished - Loved - Used - Called", correct: "Finished" },
            { question: "10. Watched - Danced - Cleaned - Liked", correct: "Cleaned" },
            { question: "11. Smoked - Touched - Remembered - Opened", correct: "Touched" },
            { question: "12. Borrowed - Opened - Rained - Stopped", correct: "Stopped" },
            { question: "13. Wanted - Painted - Loved - Needed", correct: "Loved" },
            { question: "14. Shouted - Divided - Started - Changed", correct: "Changed" },
            { question: "15. Danced - Cried - Smiled - Played", correct: "Danced" },
            { question: "16. Cooked - Chatted - Waited - Visited", correct: "Cooked" },
            { question: "17. Lived - Climbed - Robbed - Helped", correct: "Helped" },
            { question: "18. Typed - Stopped - Cleaned - Breathed", correct: "Stopped" },
            { question: "19. Wrapped - Touched - Opened - Kissed", correct: "Opened" },
            { question: "20. Breathed - Hugged - Missed - Slammed", correct: "Missed" },
            { question: "21. Washed - Screamed - Pushed - Asked", correct: "Screamed" },
            { question: "22. Picked - Pulled - Praised - Saved", correct: "Picked" },
            { question: "23. Waited - Believed - Needed - Expected", correct: "Believed" },
            { question: "24. Damaged - Knocked - Reached - Laughed", correct: "Damaged" },
            { question: "25. Developed - Surprised - Repeated - Decided", correct: "Surprised" },
            { question: "26. Hoped - Begged - Agreed - Managed", correct: "Hoped" },
            { question: "27. Advised - Blamed - Missed - Cleaned", correct: "Missed" },
            { question: "28. Invited - Played - Waited - Needed", correct: "Played" },
            { question: "29. Provided - Lived - Closed - Opened", correct: "Provided" },
        ];

        function loadQuestions() {
            const container = document.getElementById("questions");
            questions.forEach((q, index) => {
                let questionHtml = `<div class="question">
                    <p>${q.question}</p>
                    <select id="q${index}">
                        <option value="">-- Ch·ªçn t·ª´ kh√°c lo·∫°i --</option>
                        ${q.question.split(" - ").map(word => `<option value="${word}">${word}</option>`).join("")}
                    </select>
                </div>`;
                container.innerHTML += questionHtml;
            });
        }

        function submitQuiz() {
            let score = 0;
            let emailContent = "üì© K·∫øt qu·∫£ b√†i quiz ED Pronunciation\n\n";
            document.getElementById("result").innerHTML = "";

            questions.forEach((q, index) => {
                let selected = document.getElementById(`q${index}`).value;
                let resultText = `<p>C√¢u ${index + 1}: `;

                if (selected === q.correct) {
                    score++;
                    resultText += `<span class="correct">${selected} ‚úÖ</span>`;
                } else {
                    resultText += `<span class="wrong">${selected || "Ch∆∞a ch·ªçn"} ‚ùå (ƒê√∫ng: ${q.correct})</span>`;
                }

                resultText += `</p>`;
                document.getElementById("result").innerHTML += resultText;

                emailContent += `üìå C√¢u ${index + 1}: ${selected || "Ch∆∞a ch·ªçn"} (ƒê√∫ng: ${q.correct})\n`;
            });

            emailContent += `\nüéØ ƒêi·ªÉm: ${score}/29\nüì® ƒê∆∞·ª£c g·ª≠i t·ª´ h·ªá th·ªëng quiz.`;

            sendEmail(emailContent);
        }

        function sendEmail(content) {
            emailjs.init("ElHtGvxfWTX6zj1zh");

            emailjs.send("service_7qb0hje", "template_aa93qgo", {
                message: content,
                to_email: "liana4539g@gmail.com"
            }).then(response => {
                alert("üìß K·∫øt qu·∫£ ƒë√£ g·ª≠i ƒë·∫øn email c·ªßa b·∫°n!");
            }).catch(error => {
                alert("‚ùå G·ª≠i email th·∫•t b·∫°i! Ki·ªÉm tra l·∫°i c·∫•u h√¨nh.");
                console.error(error);
            });
        }

        window.onload = loadQuestions;
    </script>

</body>
</html>
